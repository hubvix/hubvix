<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed de Videos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        }

        .app-container {
            display: flex;
            height: 100vh;
            background-color: rgb(17, 24, 39);
            color: white;
        }

        /* Sidebar Styles */
        .sidebar {
            width: 64px;
            background-color: black;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo {
            margin-bottom: 2rem;
        }

        .sidebar-button {
            width: 100%;
            padding: 0.5rem;
            margin-bottom: 1rem;
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
        }

        .sidebar-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Upload Button Styles */
        .upload-button {
            width: 100%;
            padding: 0.5rem;
            margin-top: auto;
            background-color: #ff3b5c;
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            transition: background-color 0.3s;
        }

        .upload-button:hover {
            background-color: #ff526e;
        }

        /* Upload Modal Styles */
        .upload-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .upload-modal.active {
            display: flex;
        }

        .modal-content {
            background-color: rgb(31, 41, 55);
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 500px;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .close-button {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 1.5rem;
        }

        .upload-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-size: 0.875rem;
            color: #9ca3af;
        }

        .form-input {
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #4b5563;
            background-color: #374151;
            color: white;
        }

        .form-input::placeholder {
            color: #9ca3af;
        }

        .submit-button {
            background-color: #ff3b5c;
            color: white;
            padding: 0.75rem;
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
        }

        .submit-button:hover {
            background-color: #ff526e;
        }

        /* Existing styles remain the same */
        
        @media (min-width: 640px) {
            .sidebar {
                width: 256px;
            }

            .sidebar-button {
                justify-content: flex-start;
                padding-left: 1rem;
            }

            .button-text {
                display: inline;
                margin-left: 0.5rem;
            }

            .upload-button {
                justify-content: flex-start;
                padding-left: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" width="42" height="42" fill="currentColor">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.76 32.77c.07 4.28 1.43 7.54 5.26 9.32 2.91 1.35 6.38.61 9.34-.25l.72-.21c6.79-1.95 13.45-4.75 19.76-8.22 1.94-1.06 3.11-3.15 3.11-5.38V6.87a2.62 2.62 0 0 0-3.86-2.3c-5.33 2.94-11.07 4.71-17.06 5.23a2.62 2.62 0 0 0-2.42 2.61v9.89c-2.97-.11-5.94.49-8.66 1.78-2.94 1.39-4.36 3.99-5.19 7.11v1.58z"/>
                </svg>
            </div>
            <button class="sidebar-button">
                <i class="lucide-home"></i>
                <span class="button-text">Para ti</span>
            </button>
            <button class="sidebar-button">
                <i class="lucide-compass"></i>
                <span class="button-text">Explorar</span>
            </button>
            <button class="sidebar-button">
                <i class="lucide-user"></i>
                <span class="button-text">Siguiendo</span>
            </button>
            <button class="sidebar-button">
                <i class="lucide-video"></i>
                <span class="button-text">LIVE</span>
            </button>
            <!-- Upload Button -->
            <button class="upload-button" id="uploadBtn">
                <i class="lucide-plus-circle"></i>
                <span class="button-text">Publicar</span>
            </button>
        </div>

        <!-- Upload Modal -->
        <div class="upload-modal" id="uploadModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title">Publicar video</h2>
                    <button class="close-button" id="closeModal">&times;</button>
                </div>
                <form class="upload-form" id="uploadForm">
                    <div class="form-group">
                        <label class="form-label">Seleccionar video</label>
                        <input type="file" accept="video/*" class="form-input" id="videoInput" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descripción</label>
                        <textarea class="form-input" rows="3" placeholder="Describe tu video..." required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Etiquetas</label>
                        <input type="text" class="form-input" placeholder="#tendencias #viral">
                    </div>
                    <button type="submit" class="submit-button">Publicar</button>
                </form>
            </div>
        </div>
           
        <!-- Main Content remains the same -->
        <div class="main-content">
            <!-- Existing content... -->
        </div>
    </div>

    <script>
        // Existing script code...

        // Upload functionality
        const uploadBtn = document.getElementById('uploadBtn');
        const uploadModal = document.getElementById('uploadModal');
        const closeModal = document.getElementById('closeModal');
        const uploadForm = document.getElementById('uploadForm');
        const videoInput = document.getElementById('videoInput');

        uploadBtn.addEventListener('click', () => {
            uploadModal.classList.add('active');
        });

        closeModal.addEventListener('click', () => {
            uploadModal.classList.remove('active');
        });

        // Close modal when clicking outside
        uploadModal.addEventListener('click', (e) => {
            if (e.target === uploadModal) {
                uploadModal.classList.remove('active');
            }
        });

        uploadForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Create FormData object
            const formData = new FormData(uploadForm);
            
            // Here you would typically send the formData to your server
            console.log('Subiendo video...');
            
            // Simulate upload process
            const submitButton = uploadForm.querySelector('.submit-button');
            submitButton.textContent = 'Subiendo...';
            submitButton.disabled = true;
            
            setTimeout(() => {
                submitButton.textContent = '¡Publicado!';
                setTimeout(() => {
                    uploadModal.classList.remove('active');
                    submitButton.textContent = 'Publicar';
                    submitButton.disabled = false;
                    uploadForm.reset();
                }, 1500);
            }, 2000);
        });

        // Preview video file
        videoInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                console.log('Video seleccionado:', file.name);
            }
        });
        <!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed de Videos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/lucide.min.css" rel="stylesheet">
    <style>
        /* Existing styles remain... */

        /* Video Player Styles */
        .video-container {
            width: 100%;
            height: 100%;
            position: relative;
            background-color: black;
            cursor: pointer;
        }

        .video-player {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .video-controls {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            padding: 0.5rem;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 1rem;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .video-container:hover .video-controls {
            opacity: 1;
        }

        .control-button {
            background: transparent;
            border: none;
            color: white;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .control-button:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .progress-container {
            position: absolute;
            bottom: 70px;
            left: 0;
            width: 100%;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            cursor: pointer;
        }

        .progress-bar {
            height: 100%;
            background-color: #ff3b5c;
            width: 0%;
            transition: width 0.1s;
        }

        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            display: none;
        }

        .loading-indicator.active {
            display: block;
        }

        /* Volume Control */
        .volume-container {
            position: relative;
            display: flex;
            align-items: center;
        }

        .volume-slider {
            width: 0;
            height: 4px;
            background-color: rgba(255, 255, 255, 0.2);
            position: absolute;
            left: 40px;
            top: 50%;
            transform: translateY(-50%);
            transition: width 0.3s;
            overflow: hidden;
            border-radius: 2px;
        }

        .volume-container:hover .volume-slider {
            width: 80px;
        }

        .volume-level {
            width: 100%;
            height: 100%;
            background-color: white;
            transform-origin: left;
            transform: scaleX(0.7);
        }

        /* Existing styles remain the same... */
    </style>
</head>
<body>
    <!-- Previous HTML remains the same until video-container... -->

    <div class="main-content">
        <div class="video-container" id="videoContainer">
            <video class="video-player" id="videoPlayer" loop playsinline>
                <source src="" type="video/mp4">
                Tu navegador no soporta el elemento video.
            </video>
            
            <div class="loading-indicator" id="loadingIndicator">
                <i class="lucide-loader-2"></i>
            </div>

            <div class="progress-container" id="progressContainer">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <div class="video-controls" id="videoControls">
                <button class="control-button" id="playPauseBtn">
                    <i class="lucide-play"></i>
                </button>
                
                <div class="volume-container">
                    <button class="control-button" id="muteBtn">
                        <i class="lucide-volume-2"></i>
                    </button>
                    <div class="volume-slider">
                        <div class="volume-level" id="volumeLevel"></div>
                    </div>
                </div>
                
                <button class="control-button" id="fullscreenBtn">
                    <i class="lucide-maximize"></i>
                </button>
            </div>

            <div class="video-info">
                <!-- Existing video info remains the same... -->
            </div>
            
            <div class="action-buttons">
                <!-- Existing action buttons remain the same... -->
            </div>
        </div>
    </div>

    <!-- Previous HTML remains the same... -->

    <script>
        // Existing script code remains...

        // Video Player Functionality
        const videoContainer = document.getElementById('videoContainer');
        const videoPlayer = document.getElementById('videoPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const muteBtn = document.getElementById('muteBtn');
        const fullscreenBtn = document.getElementById('fullscreenBtn');
        const progressContainer = document.getElementById('progressContainer');
        const progressBar = document.getElementById('progressBar');
        const loadingIndicator = document.getElementById('loadingIndicator');
        const volumeLevel = document.getElementById('volumeLevel');

        // Initialize video source when file is selected
        videoInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const videoURL = URL.createObjectURL(file);
                videoPlayer.src = videoURL;
                console.log('Video cargado:', file.name);
            }
        });

        // Play/Pause functionality
        function togglePlay() {
            if (videoPlayer.paused) {
                videoPlayer.play();
                playPauseBtn.innerHTML = '<i class="lucide-pause"></i>';
            } else {
                videoPlayer.pause();
                playPauseBtn.innerHTML = '<i class="lucide-play"></i>';
            }
        }

        videoContainer.addEventListener('click', (e) => {
            // Prevent toggle when clicking controls or info
            if (!e.target.closest('.video-controls') && 
                !e.target.closest('.video-info') && 
                !e.target.closest('.action-buttons')) {
                togglePlay();
            }
        });
        playPauseBtn.addEventListener('click', togglePlay);

        // Mute functionality
        let lastVolume = 1;
        function toggleMute() {
            if (videoPlayer.muted) {
                videoPlayer.muted = false;
                videoPlayer.volume = lastVolume;
                muteBtn.innerHTML = '<i class="lucide-volume-2"></i>';
                volumeLevel.style.transform = `scaleX(${lastVolume})`;
            } else {
                lastVolume = videoPlayer.volume;
                videoPlayer.muted = true;
                videoPlayer.volume = 0;
                muteBtn.innerHTML = '<i class="lucide-volume-x"></i>';
                volumeLevel.style.transform = 'scaleX(0)';
            }
        }
        muteBtn.addEventListener('click', toggleMute);

        // Fullscreen functionality
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                videoContainer.requestFullscreen();
                fullscreenBtn.innerHTML = '<i class="lucide-minimize"></i>';
            } else {
                document.exitFullscreen();
                fullscreenBtn.innerHTML = '<i class="lucide-maximize"></i>';
            }
        }
        fullscreenBtn.addEventListener('click', toggleFullscreen);

        // Progress bar
        videoPlayer.addEventListener('timeupdate', () => {
            const percentage = (videoPlayer.currentTime / videoPlayer.duration) * 100;
            progressBar.style.width = `${percentage}%`;
        });

        progressContainer.addEventListener('click', (e) => {
            const rect = progressContainer.getBoundingClientRect();
            const percentage = (e.clientX - rect.left) / rect.width;
            videoPlayer.currentTime = percentage * videoPlayer.duration;
        });

        // Loading indicator
        videoPlayer.addEventListener('waiting', () => {
            loadingIndicator.classList.add('active');
        });

        videoPlayer.addEventListener('canplay', () => {
            loadingIndicator.classList.remove('active');
        });

        // Volume control
        const volumeSlider = document.querySelector('.volume-slider');
        volumeSlider.addEventListener('click', (e) => {
            const rect = volumeSlider.getBoundingClientRect();
            const volume = (e.clientX - rect.left) / rect.width;
            videoPlayer.volume = Math.max(0, Math.min(1, volume));
            volumeLevel.style.transform = `scaleX(${volume})`;
            
            if (volume === 0) {
                videoPlayer.muted = true;
                muteBtn.innerHTML = '<i class="lucide-volume-x"></i>';
            } else {
                videoPlayer.muted = false;
                muteBtn.innerHTML = '<i class="lucide-volume-2"></i>';
            }
        });

        // Auto-play when in view
        const observer = new IntersectionObserver(
            (entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        videoPlayer.play();
                        playPauseBtn.innerHTML = '<i class="lucide-pause"></i>';
                    } else {
                        videoPlayer.pause();
                        playPauseBtn.innerHTML = '<i class="lucide-play"></i>';
                    }
                });
            },
            { threshold: 0.5 }
        );

        observer.observe(videoContainer);

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                togglePlay();
            } else if (e.code === 'KeyM') {
                toggleMute();
            } else if (e.code === 'KeyF') {
                toggleFullscreen();
            }
        });

        // Clean up
        window.addEventListener('beforeunload', () => {
            if (videoPlayer.src) {
                URL.revokeObjectURL(videoPlayer.src);
            }
        });
    </script>
</body>
</html>
    </script>
</body>
</html>
